<!DOCTYPE html>
<html>


  <head>

<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script
    async
    src="https://www.googletagmanager.com/gtag/js?id=UA-79615115-1">
</script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());

  gtag('config', 'UA-79615115-1');
</script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Creating a release of the Yawg software</title>

    <link
       rel="stylesheet"
       href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
       integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
       crossorigin="anonymous" />

    <link
       rel="stylesheet"
       href="../yawg-site.css?v=389992bb-4325-464b-8721-cf7affa92035" />

    <script
       type="text/javascript"
       async
       src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

  </head>

  <body>

    <div class="yawg-body">


    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="../index.html"><img src="../YawgLogo-standard.png" style="height:1.5em;"/></a>
          <a class="navbar-brand" href="../index.html">Yawg</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
    <li><a href="../index.html">Home</a></li>
    <li><a href="../Download/index.html">Download</a></li>
    <li><a href="../Documentation/index.html">Documentation</a></li>
    <li class="active"><a href="../Developers/index.html">Developers</a></li>
            <li><a href="https://github.com/jorgefranconunes/yawg">GitHub repository</a></li>

          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>



      <div class="container yawg-content">


  <!#-- The breadcrumb bar is only visible if there is more than
        one bread crumb on this page.-->

    <ol class="breadcrumb">
          <li><a href=".././index.html">Home</a></li>
          <li><a href="../Developers/index.html">Developers</a></li>
    </ol>

        <h1>Creating a release of the Yawg software</h1>
        <div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_validate_desired_version_number">2. Validate desired version number</a></li>
<li><a href="#_create_release_git_tag">3. Create release Git tag</a></li>
<li><a href="#_create_release_tarball_and_deploy_to_ossrh_maven_staging_repo">4. Create release tarball and deploy to OSSRH Maven staging repo</a></li>
<li><a href="#_upload_release_tarball_to_github">5. Upload release tarball to Github</a></li>
<li><a href="#_release_ossrh_staging_repo_to_maven_central">6. Release OSSRH staging repo to Maven central</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The steps for making a an official release of the Yawg softare are
enumerated below.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validate the desired version number</p>
</li>
<li>
<p>Create release Git tag.</p>
</li>
<li>
<p>Create release tarball and deploy to
<a href="http://central.sonatype.org/pages/ossrh-guide.html">Open Source
Software Repository Hosting</a> (OSSRH) Maven staging repo.</p>
</li>
<li>
<p>Upload release tarball to Github.</p>
</li>
<li>
<p>Release OSSRH staging repo to Maven central.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following sections describe with more detail what needs to be done
in each step. The commands shown in the text assume your working area
reflects the <code>HEAD</code> of the <code>main</code> branch.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_validate_desired_version_number">2. Validate desired version number</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ensure the desired version number is defined at
<code>conf/yawg-defaults.conf</code>.</p>
</div>
<div class="paragraph">
<p>If you do make changes on <code>conf/yawg-defaults.conf</code> you will need to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Run <code>devtools/bin/build-sync-version</code> to update the version number
in all relevant locations.</p>
</li>
<li>
<p>Commit and push your changes to the Github repo.</p>
</li>
<li>
<p>Initiate the release process from the beginning.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_release_git_tag">3. Create release Git tag</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Git tag will mark the commit used for the release in the project
change history.</p>
</div>
<div class="paragraph">
<p>The release Git tag is to be created at the HEAD of the master
branch. Do it like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sh">git tag -a v1.0.0-RC2 -m &quot;Version 1.0.0-RC2&quot;
git push origin v1.0.0-RC2</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_release_tarball_and_deploy_to_ossrh_maven_staging_repo">4. Create release tarball and deploy to OSSRH Maven staging repo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This step is composed of two actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a release tarball. The tarball will be named
<code>yawg-1.0.0-RC2.tar.bz2</code>, and it will be created at the root of
your working area.</p>
</li>
<li>
<p>Upload Maven artifacts to the
<a href="http://central.sonatype.org/pages/ossrh-guide.html">OSSRH</a> Maven
staging repository. These Maven artifacts include the JARs and
Javadocs of the Yawg libraries that are needed to integrate Yawg in
other products.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To execute the two actions mentioned above the following command is
used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sh">./devtools/bin/build-bundle --release</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_upload_release_tarball_to_github">5. Upload release tarball to Github</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The release tarball will be hosted at Github. This is the simplest
solution for making the release tarball accessible for download.</p>
</div>
<div class="paragraph">
<p>Go to <a href="https://github.com/jorgefranconunes/yawg/releases" class="bare">https://github.com/jorgefranconunes/yawg/releases</a> and create a
release:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>With the tag created before.</p>
</li>
<li>
<p>With the tarball manually created in the previous section.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_release_ossrh_staging_repo_to_maven_central">6. Release OSSRH staging repo to Maven central</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The actions described in this section follow the
<a href="http://central.sonatype.org/pages/releasing-the-deployment.html">instructions
from Sonatype</a> for OSSRH.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Go to <a href="https://oss.sonatype.org/" class="bare">https://oss.sonatype.org/</a> and login.</p>
</li>
<li>
<p>Look for the latest staging repository with a name starting with
<code>comvarmateo</code>.</p>
</li>
<li>
<p>Check that the contents of that staging repository appear to be
fine.</p>
</li>
<li>
<p>Click the <code>Close</code> action for the repository. This will prepare the
staging repository for being copied to Maven Central.</p>
</li>
<li>
<p>Click the <code>Release</code> action for the repository. This will copy the
staging repository to Maven Central. This process can take some
minutes to complete. You can confirm the process has completed by
checking on Maven Central at
<a href="https://repo1.maven.org/maven2/com/varmateo/yawg/yawg-api/" class="bare">https://repo1.maven.org/maven2/com/varmateo/yawg/yawg-api/</a> that the
new version is there.</p>
</li>
</ul>
</div>
</div>
</div>


<footer class="yawg-footer">
  <p>&copy;2020 Jorge Nunes</p>
  <p>
    Mixed with
    <a href="http://getbootstrap.com/" target="_blank">Bootstrap 3.3.6</a>
    |
    Baked with
    <a href="http://yawg.varmateo.com/">Yawg 1.0.0-RC2</a>
    |
    <a href="../Acknowledgements.html">Acknowledgements</a>
    |
    <a href="../PrivacyPolicy.html">Privacy</a>
    |
    Last update 2020-06-11 20:33 UTC
  </p>
</footer>

      </div>

    </div>

  </body>

</html>
